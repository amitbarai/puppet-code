---
version: 5
# /etc/puppetlabs/code/environments/production/data/production-common.yaml
lookup_options:
  tomcat::parameters:
    merge:
      strategy: deep
  tomcat::env_config:
    merge:
      strategy: deep

### Applications root global directory
app_root: "/app"

### tomcat custome global config options 
java::java_home: "/usr/lib/jvm/jre-openjdk"   

tomcat::parameters:
  catalina_home: "%{lookup('app_root')}/tomcat"
  catalina_base: "%{lookup('app_root')}/tomcat"
  user: 'tomcat'
  group: 'tomcat'
  servicename: 'my-tomcat'
  port_ajp: 8010
  port_shutdown: 8006
  port_http: 8081
  
tomcat::env_config:
  catalina_base: "%{lookup('app_root')}/tomcat"
  catalina_home: "%{lookup('app_root')}/tomcat"
  catalina_tmpdir: "%{lookup('app_root')}/tomcat/temp"
  connector_port: "%{lookup('tomcat::parameters.port_http')}"
  java_home: "%{lookup('java::java_home')}/"
  tomcat_user: "%{lookup('tomcat::parameters.user')}"
  tomcats_base: "/var/lib/tomcats/"
